import{f as R,l as p,m as w,n as $,r as n,h as B,w as l,o as A,a as d,t as u,b as r,d as v,q as N}from"./entry.9cd865fb.js";const x=["href"],U={__name:"reports",setup(F){R();const{$backend:f}=N(),s=p(null),a=p({board:!1,ga:!1}),m=[{title:"Report",key:"topic"},{title:"Date",key:"topicdate"},{title:"File",key:"path"}],_=[{value:20,title:"20"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],b=w(()=>{if(!s.value)return[];if(!a.value.board&&!a.value.ga)return s.value;const e=[];return s.value.forEach(t=>{t.topic==="Report Board Meeting"&&a.value.board&&e.push(t),t.topic==="Report General Assembly"&&a.value.ga&&e.push(t)}),e});function g(e){return"/api/v1/filecontent/"+e}async function h(){try{const e=await f("file","anon_get_files",{reports:1});console.log("reports returned",e.data),s.value=e.data.files}catch(e){console.error("getting getFiles",e)}}return $(()=>h()),(e,t)=>{const i=n("v-checkbox"),c=n("v-col"),y=n("v-row"),k=n("v-data-table"),V=n("v-container");return A(),B(V,null,{default:l(()=>[d("h1",null,u(e.$t("Reports")),1),r(y,null,{default:l(()=>[r(c,{cols:"6"},{default:l(()=>[r(i,{modelValue:a.value.board,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.board=o),label:e.$t("Report Board Meeting")},null,8,["modelValue","label"])]),_:1}),r(c,{cols:"6"},{default:l(()=>[r(i,{modelValue:a.value.ga,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.ga=o),label:e.$t("Report General Assembly")},null,8,["modelValue","label"])]),_:1})]),_:1}),r(k,{headers:m,items:b.value,class:"elevation-1","items-per-page":"20","items-per-page-options":_,"sort-by":[{key:"topicdate",order:"desc"}]},{"item.topic":l(({item:o})=>[v(u(e.$t(o.columns.topic)),1)]),"item.path":l(({item:o})=>[v(" URL: "),d("a",{href:g(o.raw.url)},u(o.raw.name),9,x)]),_:1},8,["items"])]),_:1})}}};export{U as default};
